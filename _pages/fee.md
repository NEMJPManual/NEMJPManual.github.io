---
title: NEMの手数料について
layout: default
post_number: 8
---
## NEMの手数料について


<div style="margin:10px 0;background-color:#FAFAFA;display:inline-block;border-radius:10px;padding:10px;border:1px solid;">
  <b>このページで必要な知識</b>
  <ul>
    <li>NEM基本用語</li>
  </ul>
</div>
このページでは、NEMの手数料について説明しています

原文：[NEM NIS API Documentation](http://bob.nem.ninja/docs/#transaction-fees)

## トランザクションの手数料
ユーザは、トランザクションがブロックチェーンに取り込まれるために、手数料を払わなければなりません。

一方で、ノードはブロックをハーベスティングすることで、ハーベスターとして報酬を得ることができます。

トランザクションは、それぞれのタイプごとに手数料が決められています。

NISによってトランザクションを検証するためには、最低限の手数料を必ず支払わなければなりません。

*注意: トランザクションのタイプによっては、トランザクションを実行（例えば、ネームスペースのレンタル）している間、追加の手数料が発生するものもあります。*

以下の表は、それぞれのトランザクションタイプの最低手数料をまとめたものです。すべての計算は、XEM単位になるように切り捨てられます（つまり、小数点以下は無視されます）。

<table border="1">
  <tbody>
    <tr>
      <th>トランザクションの種類</th>
      <th>計算方法</th>
    </tr>
    <tr>
      <td>送金トランザクション</td>
      <td>
        手数料は、送金するXEMの量に応じた手数料とトランザクションに対するメッセージに対する手数料の合計です。
        <ol>
          <li>
            <p>他のアカウントへXEMを送金するのための手数料:</p>
            <p>送付量10,000 XEM毎に0.05 XEM、最大1.25 XEM</p> 
            <p>例:</p>
            <p>4,5000 XEMの送金には0.20 XEMの手数料、500,000 XEMの送金には1.25XEMの手数料</p>
          </li>
          <li>
            <p>メッセージをトランザクションに添付するための手数料</p>
            <p>32メッセージバイトのコメント(メッセージ長 / 32 + 1)につき0.05 XEM</p>
            <p>例:</p>
            <p>暗号化されていないメッセージ "The New Economy Movement will change the world!!!" は、49文字であり、0.15 XEM の手数料がかかります。</p>
          </li>
          <li>
            <p>ほかのアカウントへ1つのモザイクを送金するための手数料</p>
            <ol>
              <li>
                <p>可分性が0(小数点以下に分割不可)で総供給量が10,000以下のモザイクをスモールビジネスモザイクと呼びます。</p>
                <p>スモールビジネスモザイクはどの送金でも0.05 XEMの手数料がかかります</p>
              </li>
              <li>
                <p>それぞれのモザイクに応じた手数料は、以下の手順で計算されます。</p>
                <p>
                  モザイクの初期総発給量を s、可分性を d、総供給量を q としてXEM equivalent（XEM換算、以下xemEquivalentと呼びます）は<br>
                  xemEquivalent = (8,999,999,999 * q) / (s * 10^d)<br>
                  （小数点以下切り捨て）
                </p>
                <p>異なるモザイクの総量を考慮に入れるために、調整項が計算される</p>
                <p>モザイクをmとして計算</p>
                <ol>
                  <li>最大モザイク量 = 9,000,000,000,000,000</li>
                  <li>トータルモザイク量 = モザイク m 供給量 * 10 ^ (モザイク m 可分性)</li>
                  <li>供給量関連調整 = floor(0.8 * ln(最大モザイク量 / トータルモザイク量) </li>
                  <li>
                    <p>加重されていない手数料は次のように計算されます</p>
                    <p>加重されていない手数料 = 最大(1L, xemFee - 供給量関連調整)</p>
                  </li>
                  <li>
                    <p>最後に加重される手数料は次のように計算できます</p>
                    <p>手数料 = 加重されない手数料 * 手数料単位</p>
                  </li>
                </ol>
                <p>例:</p>
                <p>9,000,000の供給と小数点3桁の可分性のモザイクの場合</p>
                <ol>
                  <li>トータルモザイク量 = 9,000,000 * 1,000 = 9,000,000,000</li>
                  <li>供給量関連調整 = floor(0.8 * ln(9,000,000,000,000,000 / 9,000,000,000)) = floor(11.052) = 11</li>
                  <li>
                    <p>
                      150のモザイクを送金するとして(可分性を考慮すると最小単位150,000と等価です)<br>
                      xemEquivalent = (8,999,999,999 * 150,000) / (9,000,000 * 10^3) = 149,999<br>
                      xemFee = 14 XEM
                    </p>
                  </li>
                  <li>
                    <p>なのでトランザクションが従う加重されていない手数料は</p>
                    <p>加重されない手数料 = 14 XEM - 11 XEM = 3 XEM</p>
                  </li>
                  <li>
                    <p>現在の手数料単位0.05 XEMで加重すると</p>
                    <p>手数料 = 3 XEM * 0.05 = 0.15 XEM</p>
                  </li>
                </ol>
              </li>
            </ol>
          </li>
        </ol>
      </td>
    </tr>
    <tr>
      <td>インポータンスの振替トランザクション</td>
      <td>0.15 XEM</td>
    </tr>
    <tr>
      <td>集計変更トランザクション</td>
      <td>0.5 XEM</td>
    </tr>
    <tr>
      <td>マルチシグトランザクション</td>
      <td>0.15 XEM</td>
    </tr>
    <tr>
      <td>マルチシグ署名トランザクション</td>
      <td>0.15 XEM</td>
    </tr>
    <tr>
      <td>ネームスペース確保トランザクション</td>
      <td>
        <p>0.15 XEM</p>
        <p>加えて:</p>
        <p>ルートネームスペース確保手数料: 100 XEM</p>
        <p>サブルートネームスペース確保手数料: 10 XEM</p>
      </td>
    </tr>
    <tr>
      <td>モザイクの定義作成トランザクション</td>
      <td>0.15 XEM</td>
    </tr>
    <tr>
      <td>モザイクの供給変更トランザクション</td>
      <td>0.15 XEM</td>
    </tr>
  </tbody>
</table>
